<th:block th:include="admin/main/header.html"></th:block>
       <!-- page content -->
        <div class="right_col" role="main">
          <div class="">
            <div class="page-title">
              <div class="title_left">
                <h3>주문 / 결제</h3>
              </div>
            </div>

            <div class="clearfix"></div>

            <div class="row">
              <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>결제 확인</h2>
						<div class="text-right mtop20">
	                    	<a href="/admin/category/add" class="btn btn-sm btn-primary">추가</a>
						</div>
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">
                    <table id="datatable" class="table table-striped table-bordered datatable">
                      <thead>
                        <tr>
                          <th>주문번호</th>
                          <th>주문자명</th>
                          <th>결제방식</th>
                          <th>판매가격</th>
                          <th>결제 완료일</th>
                          <th>현재상태(선택시 즉시 변경)</th>
                          <th>작업</th>
                        </tr>
                      </thead>                      
                      <tbody>
                        <tr th:each="order : ${order}">
                          <td th:text="${order.orderno}"></td>
                          <td th:text="${order.order_name}"></td>
                          <td th:if="${order.pay_type == 0}" th:text="카드"></td>
                          <td th:if="${order.pay_type == 1}" th:text="계좌이체"></td>
                          <td th:text="@{'{price}원'(price=${#numbers.formatInteger(order.price, 0, 'COMMA')})}"></td>
                          <td th:text="${order.date}"></td>
                          <td>
                          	<select class="custom-select" id="status_select" name="status_select[]" onchange="location = this.value;" th:style="${order.status == 0} ? 'color: blue' : (${order.status == 1} ? 'color: red' : 'color: black')">
                          		<option 
                          			th:each="num : ${#numbers.sequence(0,4)}" 
                          			th:value="@{'javascript:status_ajax(\'{no}\', \'{status}\')'(no=${order.no}, status=${num})}"
                          			th:selected="(${num} == ${order.status})"
                          			>
                          				<span th:if="${num == 0}" th:text="결제완료"></span>
                          				<span th:if="${num == 1}" th:text="결제대기"></span>
                          				<span th:if="${num == 2}" th:text="배송준비중"></span>
                          				<span th:if="${num == 3}" th:text="베송중"></span>
                          				<span th:if="${num == 4}" th:text="배송완료"></span>
                          		</option>
                          	</select>
                          </td>
                          <td>
                          	<a th:href="@{'/admin/order/view/{no}'(no=${order.no})}" class="btn btn-info btn-xs"><i class="fas fa-pen"></i> 수정</a>
                          	<a th:href="@{'/admin/order/del/{no}'(no=${order.no})}" class="btn btn-danger btn-xs" onClick="return confirm('삭제할까요?');"><i class="fas fa-trash-alt"></i> 삭제</a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- /page content -->
      <th:block th:include="admin/main/footer.html"></th:block>
